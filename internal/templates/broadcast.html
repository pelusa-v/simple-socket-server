<html>
  <head>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  </head>

  <body>
    <h3>MinichatGO</h3>
    <label for="chatInput">Mensaje:</label>
    <input id="chatInput" type="text" placeholder="Introduzca el mensaje"/>
    |
    <label for="chatDestination">Destinatario:</label>
    <input id="chatDestination" type="text" placeholder="Ingrese cÃ³digo del destinatario"/>
    <button id="sendMessage">Enviar mensaje</button>
    <p>Di <strong>Hola</strong> para comenzar</p>
    <hr/>
    <pre id="output"></pre>

    <script>
      url = 'ws://localhost:8000/ws';
      c = new WebSocket(url);
      
      submitChatMessage = function(){
        $("#sendMessage").click(
          function() {
            c.send($("#chatInput").val())
            $("#output").append((new Date())+ " ==> SENDING...       "+$("#chatInput").val()+"\n")
          }
        )
      }

      c.onmessage = function(msg){
        $("#output").append((new Date())+ " <== RECEIVING...     "+msg.data+"\n")
        console.log(msg)
      }

      c.onopen = function(){
        submitChatMessage()
      }
    </script>

  </body>
</html>